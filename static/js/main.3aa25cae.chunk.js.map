{"version":3,"sources":["context/store.js","components/Gallery/Dropzone/Dropzone.jsx","components/Gallery/Preview/Remove/Remove.jsx","components/Gallery/Preview/Preview.jsx","components/Gallery/Send/Send.jsx","components/Gallery/Gallery.jsx","components/Editor/ButtonGroup/ButtonGroup.jsx","components/Editor/Editor.jsx","components/App/App.jsx","index.js"],"names":["StoreContext","createContext","Dropzone","useContext","files","setFiles","setError","error","useDropzone","accept","onDrop","acceptedFiles","length","map","file","Object","assign","preview","URL","createObjectURL","normalizeFilesWithPreview","getRootProps","getInputProps","className","Remove","props","id","removeFile","onClick","e","Preview","setSelectedFileId","selectedFileId","setShowEditor","showEditor","useDrag","item","type","drag","useDrop","drop","draggedId","moveFile","fromIndex","toIndex","newFiles","splice","currentTarget","ref","node","src","alt","Send","addFilesToLocalStorage","classNames","disabled","Gallery","index","key","convertCanvasToBlob","canvas","base64","toDataURL","dataURI","byteString","atob","split","ab","ArrayBuffer","ia","Uint8Array","i","charCodeAt","Blob","dataURItoBlob","ButtonGroup","updateFilePreview","blob","editorRef","current","getInstance","width","height","viewBox","fill","xmlns","fillRule","clipRule","d","icona","require","iconb","iconc","blackTheme","Editor","editorTitle","setEditorTitle","path","name","useRef","config","attributes","observer","MutationObserver","mutationList","forEach","mutation","target","classList","contains","substring","lastIndexOf","useEffect","crop","document","getElementById","rotate","draw","observe","disconnect","includeUI","loadImage","theme","menu","initMenu","uiSize","menuBarPosition","cssMaxHeight","cssMaxWidth","selectionStyle","cornerSize","rotatingPointOffset","App","DndProvider","backend","Backend","ReactDOM","render","children","useState","store","stopPropagation","filter","images","image","url","push","localStorage","setItem","JSON","stringify","console","log","Provider","value"],"mappings":"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","file":"static/js/main.3aa25cae.chunk.js","sourcesContent":["import React, { useState, createContext } from 'react'\r\n\r\nexport const StoreContext = createContext(null)\r\n\r\nexport const StoreProvider = ({ children }) => {\r\n  const [files, setFiles] = useState([])\r\n  const [selectedFileId, setSelectedFileId] = useState(null)\r\n  const [error, setError] = useState(null)\r\n  const [showEditor, setShowEditor] = useState(false)\r\n  const [editorTitle, setEditorTitle] = useState(null)\r\n\r\n  const store = {\r\n    selectedFileId: [selectedFileId, setSelectedFileId],\r\n    error: [error, setError],\r\n    showEditor: [showEditor, setShowEditor],\r\n    editorTitle: [editorTitle, setEditorTitle],\r\n\r\n    files: {\r\n      files,\r\n      setFiles,\r\n      removeFile: (e, id) => {\r\n        e.stopPropagation()\r\n        setFiles(files.filter((file, index) => index !== id))\r\n      },\r\n      addFilesToLocalStorage: () => {\r\n        const images = []\r\n        files.forEach(file => {\r\n          let url = file.path\r\n          let preview = URL.createObjectURL(file)\r\n          let image = { url: url, preview: preview }\r\n          images.push(image)\r\n        })\r\n        localStorage.setItem('images', JSON.stringify(images))\r\n        console.log('Added to LocalStorage')\r\n      },\r\n    },\r\n  }\r\n\r\n  return <StoreContext.Provider value={store}>{children}</StoreContext.Provider>\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { StoreContext } from '../../../context/store'\r\nimport { useDropzone } from 'react-dropzone'\r\n\r\nconst normalizeFilesWithPreview = files => {\r\n  return files.map(file =>\r\n    Object.assign(file, {\r\n      preview: URL.createObjectURL(file),\r\n    })\r\n  )\r\n}\r\n\r\nconst Dropzone = () => {\r\n  const {\r\n    files: { files, setFiles },\r\n    error: [, setError],\r\n  } = useContext(StoreContext)\r\n\r\n  const { getRootProps, getInputProps } = useDropzone({\r\n    accept: 'image/*',\r\n    onDrop: acceptedFiles => {\r\n      if (files.length + acceptedFiles.length > 5) {\r\n        return setError('Не больше 5 файлов')\r\n      } else {\r\n        setError(null)\r\n        setFiles([...files, ...normalizeFilesWithPreview(acceptedFiles)])\r\n      }\r\n    },\r\n  })\r\n\r\n  return (\r\n    <div {...getRootProps()} className=\"dropzone\">\r\n      <input {...getInputProps()} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Dropzone\r\n","import React, { useContext } from 'react'\r\nimport { StoreContext } from '../../../../context/store'\r\n\r\nconst Remove = props => {\r\n  const { id } = props\r\n\r\n  const {\r\n    files: { removeFile },\r\n  } = useContext(StoreContext)\r\n\r\n  return (\r\n    <div className=\"remove mt--8 ml--16\" onClick={e => removeFile(e, id)}></div>\r\n  )\r\n}\r\n\r\nexport default Remove\r\n","import React, { useContext } from 'react'\r\nimport { StoreContext } from '../../../context/store'\r\nimport Remove from './Remove/Remove'\r\nimport { useDrag, useDrop } from 'react-dnd'\r\n\r\nconst Preview = props => {\r\n  const { file, id } = props\r\n\r\n  const {\r\n    files: { files, setFiles },\r\n    selectedFileId: [, setSelectedFileId],\r\n    showEditor: [, setShowEditor],\r\n  } = useContext(StoreContext)\r\n\r\n  const [, drag] = useDrag({\r\n    item: { type: 'preview', id },\r\n  })\r\n  const [, drop] = useDrop({\r\n    accept: 'preview',\r\n    drop({ id: draggedId }) {\r\n      moveFile(draggedId, id)\r\n    },\r\n  })\r\n\r\n  const moveFile = (fromIndex, toIndex) => {\r\n    let newFiles = [...files]\r\n    newFiles.splice(toIndex, 0, newFiles.splice(fromIndex, 1)[0])\r\n    setFiles(newFiles)\r\n  }\r\n\r\n  const selectAndEdit = e => {\r\n    setSelectedFileId(e.currentTarget.id)\r\n    setShowEditor(true)\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className=\"preview mr-12 mb-12\"\r\n      id={id}\r\n      onClick={selectAndEdit}\r\n      ref={node => drag(drop(node))}\r\n    >\r\n      <div className=\"preview__thumb\">\r\n        <img src={file.preview} alt=\"\" className=\"preview__img\" />\r\n      </div>\r\n      <Remove id={id} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Preview\r\n","import React, { useContext } from 'react'\r\nimport { StoreContext } from '../../../context/store'\r\nimport classNames from 'classnames'\r\n\r\nconst Send = () => {\r\n  const {\r\n    files: { files, addFilesToLocalStorage },\r\n  } = useContext(StoreContext)\r\n\r\n  return (\r\n    <button\r\n      onClick={addFilesToLocalStorage}\r\n      className={classNames('mt-15 send', { 'send_disabled': !files.length })}\r\n      disabled={files.length ? false : true}\r\n    >\r\n      Send\r\n    </button>\r\n  )\r\n}\r\n\r\nexport default Send\r\n","import React, { useContext } from 'react'\r\nimport { StoreContext } from '../../context/store'\r\nimport { useDrop } from 'react-dnd'\r\nimport Dropzone from './Dropzone/Dropzone'\r\nimport Preview from './Preview/Preview'\r\nimport Send from './Send/Send'\r\n\r\nconst Gallery = () => {\r\n  const {\r\n    files: { files },\r\n    error: [error],\r\n  } = useContext(StoreContext)\r\n\r\n  const [, drop] = useDrop({ accept: 'preview' })\r\n\r\n  return (\r\n    <>\r\n      <div className=\"mt-15\">\r\n        <div className=\"header__progress\">STEP 1/3</div>\r\n        <div className=\"header__message\">Drag or select photo</div>\r\n      </div>\r\n      <div className=\"gallery mt-15\">\r\n        <div className=\"gallery__previews\" ref={drop}>\r\n          {files.map((file, index) => (\r\n            <Preview key={index} file={file} id={index} />\r\n          ))}\r\n          <Dropzone />\r\n        </div>\r\n      </div>\r\n      {error ? <div className=\"mt-15 error\">{error}</div> : null}\r\n      <Send />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Gallery\r\n","import React, { useContext } from 'react'\r\nimport { StoreContext } from '../../../context/store'\r\n\r\nconst dataURItoBlob = dataURI => {\r\n  const byteString = atob(dataURI.split(',')[1])\r\n  const ab = new ArrayBuffer(byteString.length)\r\n  const ia = new Uint8Array(ab)\r\n  for (let i = 0; i < byteString.length; i++) {\r\n    ia[i] = byteString.charCodeAt(i)\r\n  }\r\n  const blob = new Blob([ab])\r\n  return blob\r\n}\r\n\r\nconst convertCanvasToBlob = canvas => {\r\n  const base64 = canvas.toDataURL()\r\n  return URL.createObjectURL(dataURItoBlob(base64))\r\n}\r\n\r\nconst ButtonGroup = props => {\r\n  const {\r\n    files: { files, setFiles },\r\n    selectedFileId: [selectedFileId],\r\n    showEditor: [, setShowEditor],\r\n  } = useContext(StoreContext)\r\n\r\n  const submitEditedPicture = () => {\r\n    const blob = convertCanvasToBlob(props.editorRef.current.getInstance())\r\n    updateFilePreview(selectedFileId, blob)\r\n    setShowEditor(false)\r\n  }\r\n\r\n  const updateFilePreview = (selectedFileId, preview) => {\r\n    const newFiles = [...files]\r\n    newFiles[selectedFileId].preview = preview\r\n    setFiles(newFiles)\r\n  }\r\n\r\n  return (\r\n    <div className=\"buttonGroup\">\r\n      <div className=\"buttonGroup__container\">\r\n        <button className=\"button-cancel\" onClick={() => setShowEditor(false)}>\r\n          Cancel\r\n        </button>\r\n        <button className=\"button-submit\" onClick={submitEditedPicture}>\r\n          Done\r\n          <svg\r\n            className=\"button-submit__icon\"\r\n            width=\"32\"\r\n            height=\"27\"\r\n            viewBox=\"0 0 32 27\"\r\n            fill=\"none\"\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n          >\r\n            <path\r\n              fillRule=\"evenodd\"\r\n              clipRule=\"evenodd\"\r\n              d=\"M9.37035 26.3342L31.877 3.82753L28.3415 0.291992L9.37042 19.2631L3.72383 13.6165L0.188293 17.152L5.83489 22.7986L5.83481 22.7987L9.37035 26.3342Z\"\r\n              fill=\"white\"\r\n            />\r\n          </svg>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ButtonGroup\r\n","import React, { useRef, useContext, useEffect } from 'react'\r\nimport { StoreContext } from '../../context/store'\r\nimport 'tui-image-editor/dist/tui-image-editor.css'\r\nimport ImageEditor from '@toast-ui/react-image-editor'\r\nimport ButtonGroup from './ButtonGroup/ButtonGroup'\r\nconst icona = require('tui-image-editor/dist/svg/icon-a.svg')\r\nconst iconb = require('tui-image-editor/dist/svg/icon-b.svg')\r\nconst iconc = require('tui-image-editor/dist/svg/icon-c.svg')\r\nconst icond = require('tui-image-editor/dist/svg/icon-d.svg')\r\nconst blackTheme = {\r\n  // main icons\r\n  'menu.normalIcon.path': icond,\r\n  'menu.activeIcon.path': iconb,\r\n  'menu.disabledIcon.path': icona,\r\n  'menu.hoverIcon.path': iconc,\r\n}\r\n\r\nconst Editor = () => {\r\n  const {\r\n    files: { files },\r\n    selectedFileId: [selectedFileId],\r\n    editorTitle: [editorTitle, setEditorTitle],\r\n  } = useContext(StoreContext)\r\n\r\n  const path = files[selectedFileId].preview\r\n  const name = files[selectedFileId].name\r\n  const editorRef = useRef(null)\r\n\r\n  const callback = mutationList => {\r\n    mutationList.forEach(mutation => {\r\n      if (mutation.type === 'attributes') {\r\n        if (mutation.target.classList.contains('active')) {\r\n          let targetName = mutation.target.id.substring(\r\n            mutation.target.id.lastIndexOf('-') + 1\r\n          )\r\n          switch (targetName) {\r\n            case 'crop':\r\n              setEditorTitle('Crop image')\r\n              break\r\n            case 'rotate':\r\n              setEditorTitle('Rotate image')\r\n              break\r\n            case 'draw':\r\n              setEditorTitle('Draw a line')\r\n              break\r\n            default:\r\n          }\r\n        } else {\r\n          setEditorTitle('Crop, rotate or draw')\r\n        }\r\n      }\r\n    })\r\n  }\r\n  const config = { attributes: true }\r\n  const observer = new MutationObserver(callback)\r\n\r\n  useEffect(() => {\r\n    const crop = document.getElementById('tie-btn-crop')\r\n    const rotate = document.getElementById('tie-btn-rotate')\r\n    const draw = document.getElementById('tie-btn-draw')\r\n    observer.observe(crop, config)\r\n    observer.observe(rotate, config)\r\n    observer.observe(draw, config)\r\n    return () => {\r\n      observer.disconnect(crop, config)\r\n      observer.disconnect(rotate, config)\r\n      observer.disconnect(draw, config)\r\n    }\r\n  })\r\n\r\n  return (\r\n    <div className=\"editor\">\r\n      <div className=\"editor__header\">{editorTitle}</div>\r\n      <ImageEditor\r\n        ref={editorRef}\r\n        includeUI={{\r\n          loadImage: {\r\n            path: `${path}`,\r\n            name: `${name}`,\r\n          },\r\n          theme: blackTheme,\r\n          menu: ['crop', 'rotate', 'draw'],\r\n          initMenu: 'crop',\r\n          uiSize: {\r\n            width: '375px',\r\n            height: '700px',\r\n          },\r\n          menuBarPosition: 'bottom',\r\n        }}\r\n        cssMaxHeight={500}\r\n        cssMaxWidth={375}\r\n        selectionStyle={{\r\n          cornerSize: 20,\r\n          rotatingPointOffset: 70,\r\n        }}\r\n      />\r\n      <ButtonGroup editorRef={editorRef} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Editor\r\n","import React, { useContext } from 'react'\r\nimport Gallery from '../Gallery/Gallery'\r\nimport Editor from '../Editor/Editor'\r\nimport { DndProvider } from 'react-dnd'\r\nimport Backend from 'react-dnd-html5-backend'\r\nimport { StoreContext } from '../../context/store'\r\n\r\nconst App = () => {\r\n  const {\r\n    showEditor: [showEditor],\r\n  } = useContext(StoreContext)\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      {showEditor ? (\r\n        <Editor />\r\n      ) : (\r\n        <DndProvider backend={Backend}>\r\n          <Gallery />\r\n        </DndProvider>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './components/App/App'\nimport { StoreProvider } from './context/store'\n\nReactDOM.render(\n  <StoreProvider>\n    <App />\n  </StoreProvider>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}